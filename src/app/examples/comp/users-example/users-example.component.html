<p>
  <button (click)="isVisible = !isVisible" [innerText]="isVisible ? 'Скрыть' : 'Показать'"></button>
</p>

<ng-container *ngIf="isVisible">
  Message only if isVisible === true
  <br><br>
</ng-container>

<hr>

<ng-container *ngIf="isVisible">
  <app-user-profile
    *ngFor="let user of users; let idx = index; let first=first; let last=last;"
    [id]="user.id"
    [name]="user.name"
    [lastname]="user.lastname"
    [age]="user.age"
    [avatarUrl]="user.avatarUrl"
    [class.user-profile--first]="first"
    [class.user-profile--last]="last"
    [ngStyle]="{backgroundColor: first ? 'red' : last ? 'blue' : ''}"
    (click)="handleProfileClick(user.id)">
  </app-user-profile>
</ng-container>
